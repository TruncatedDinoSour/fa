include 'std/std.fa'

macro NAME_LEN 256 end

macro main
    buffer name %NAME_LEN  -- Allocate a 256-byte (NAME_LEN) buffer in memory

    "Enter your name: " ro     %STDOUT %fputs  -- fputs("...", STDOUT)
    %NAME_LEN           #name  %STDIN   %read  -- read(STDIN, *buffer, NAME_LEN)

    "Your name is " ro %STDOUT %fputs          -- fputs("...", STDOUT)
    1 #name -                                  -- buffer = buffer - 1
    -- We take away 1 from the buffer because it
    -- will include the <enter> key (a newline (\n))
    -- and we don't want that

    %puts                                      -- puts(buffer)
    0 %exit                                    -- exit(0) or return 0

    -- TODO: Add a check for name using conditionals
end

%main
