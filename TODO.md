- [x] Use return value in `drop`
- [x] Type checking
- [ ] Dynamic buffer allocation
- [ ] Locality of macros
