include 'std/syscall.fa'


macro STDIN  0 end
macro STDOUT 1 end
macro STDERR 2 end


macro EXIT_SUCCESS  0 end
macro EXIT_FAILURE  1 end


--<
    Write a string to a specified file descriptor

    Takes:
        INT: File descriptor
        STR: The string
>--
macro fputs
    %SYS_write sys 4 1 drop
end


--<
    Print a string and then a newline

    Takes:
        STR: The string
>--
macro puts
    %STDOUT         %fputs  -- The string
    "\n" ro %STDOUT %fputs  -- Newline
end


--<
    Exit with a specified exit code

    Takes:
        INT: The exit code
>--
macro exit
    %SYS_exit sys 2 1 drop
end


--<
    Print a todo messag and exit with EXIT_FAILURE

    Takes:
        INT: The exit code
>--
macro todo
    "TODO: " ro 2 %fputs
    2             %fputs
    "\n"     ro 2 %fputs

    %EXIT_FAILURE %exit
end
